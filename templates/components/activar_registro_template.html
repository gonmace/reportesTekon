{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block css %}
{% endblock css %}

{% block title %}{{ page_title|default:"Activar Registro" }}{% endblock %}

{% block pre_content %}
    <!-- Breadcrumbs -->
    <div class="flex justify-between items-baseline mb-2">
        {% include 'components/common/breadcrumbs.html' %}
    </div>
{% endblock pre_content %}

{% block content %}
<!-- Token CSRF para las actualizaciones AJAX -->
{% csrf_token %}

<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-bold mb-6 text-gray-800">
            {{ page_title|default:"Activar Registro" }}
        </h2>
        
        {% if messages %}
        <div class="mb-4">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }} mb-2">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        <form method="post" class="space-y-4">
            {% csrf_token %}
            {{ form|crispy }}
            
            <div class="flex justify-end space-x-3 pt-4">
                <a href="{% url app_namespace|add:':list' %}" class="btn btn-secondary">
                    Cancelar
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="fa-solid fa-check"></i>
                    {{ activate_button_text|default:"Activar Registro" }}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock content %}

{% block extra_js %}
<script>
// Configuración para el JavaScript genérico
window.isSuperuser = {{ user.is_superuser|yesno:"true,false" }};
window.USUARIOS_URL = '{{ usuarios_url|default:"" }}';
window.ACTIVAR_URL = '{{ activar_url|default:"" }}';

document.addEventListener("DOMContentLoaded", function() {
    console.log("Página de activación cargada");
});
</script>
{% endblock extra_js %} 