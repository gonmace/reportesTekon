{% extends 'base.html' %}
{% load static %}

{% block css %}    
{% endblock css %}

{% block content %}

<div class="overflow-x-auto w-full">
    <table id="sitios-table" class="table table-sm table-zebra w-full">
        <thead class="uppercase">
            <tr>
                <th class="text-center whitespace-nowrap">Operador</th>
                <th class="text-center whitespace-nowrap">PTI ID</th>
                <th class="text-center">Nombre</th>
                <th class="text-center whitespace-nowrap">Región</th>
                <th class="text-center whitespace-nowrap">Comuna</th>
                {% if user.is_superuser %}
                <th class="text-center whitespace-nowrap">Acciones</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            <!-- Los datos se cargarán dinámicamente con JavaScript -->
        </tbody>
    </table>
</div>

<!-- Modal para editar sitio -->
<dialog id="edit_site_modal" class="modal">
    <div class="modal-box w-11/12 max-w-2xl">
        <h3 class="font-bold text-lg mb-4">Editar Sitio</h3>
        <div id="modal-content">
            <!-- El contenido del formulario se cargará aquí -->
        </div>
    </div>
</dialog>

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li {% if message.tags %} class="text-red-600 {{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

{% comment %} {% if user.is_authenticated %}
Esta autenticado
{% endif %} {% endcomment %}

{% endblock content %}

{% block extra_js %}
<script>
// Pasar variables del template al JavaScript
window.isSuperuser = {{ user.is_superuser|yesno:"true,false" }};
</script>
<script src="{% static 'js/core.js' %}"></script>
{% endblock extra_js %}
